# üìã –î–∏–∑–∞–π–Ω-–ø–ª–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–π

## 1. üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤–∞–π—Ñ—É –≤ –∞–∫–∫–∞—É–Ω—Ç

### –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: `waifuSortBy` —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ JavaScript –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### –†–µ—à–µ–Ω–∏–µ
**Backend (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö):**
1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `waifu_sort_preference` –≤ —Ç–∞–±–ª–∏—Ü—É `users`:
   - –¢–∏–ø: `VARCHAR(20)` –∏–ª–∏ `TEXT`
   - –ó–Ω–∞—á–µ–Ω–∏—è: `'name'`, `'rarity'`, `'level'`, `'power'`, `'race'`, `'profession'`, `'nationality'`
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'name'`
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å `NULL` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

2. SQL-–º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è:
   ```sql
   ALTER TABLE users ADD COLUMN IF NOT EXISTS waifu_sort_preference VARCHAR(20) DEFAULT 'name';
   ```

**Backend (API):**
3. –í `src/bot/api_server.py`, —Ñ—É–Ω–∫—Ü–∏—è `get_profile`:
   - –î–æ–±–∞–≤–∏—Ç—å `waifu_sort_preference` –≤ –æ—Ç–≤–µ—Ç API
   - –í–∑—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `user.waifu_sort_preference` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

4. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API endpoint –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   - `PATCH /api/profile/preferences` –∏–ª–∏ `POST /api/profile/update-sort-preference`
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `sort_by` (—Å—Ç—Ä–æ–∫–∞)
   - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ –≤ –ë–î
   - –í–µ—Ä–Ω—É—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

**Frontend:**
5. –í `webapp/app.js` –∏ `webapp/profile-app.js`:
   - –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ—Ñ–∏–ª—è (`loadProfile`): —á–∏—Ç–∞—Ç—å `waifu_sort_preference` –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å `waifuSortBy`
   - –í —Ñ—É–Ω–∫—Ü–∏–∏ `setSortBy`: –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞: –æ–±–Ω–æ–≤–∏—Ç—å UI

### –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/bot/models.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ –º–æ–¥–µ–ª—å `User`
- `src/bot/api_server.py` - –¥–æ–±–∞–≤–∏—Ç—å –≤ `get_profile` –∏ —Å–æ–∑–¥–∞—Ç—å endpoint –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `webapp/app.js` - –æ–±–Ω–æ–≤–∏—Ç—å `loadProfile` –∏ `setSortBy`
- `webapp/profile-app.js` - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- SQL-—Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sql/011_add_user_preferences.sql`)

**UX:**
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π UI)
- –ü—Ä–∏ –æ—à–∏–±–∫–µ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞: –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## 2. üîÑ –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–±–ª–µ–º–∞
–î–∞–Ω–Ω—ã–µ –≤ WebApp —É—Å—Ç–∞—Ä–µ–≤–∞—é—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ç.–¥.)

### –†–µ—à–µ–Ω–∏–µ
**–î–∏–∑–∞–π–Ω:**
- –ú–∞–ª–µ–Ω—å–∫–∞—è –∫—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π üîÑ
- –†–∞–∑–º–µ—Ä: 32x32px –∏–ª–∏ 40x40px
- –ü–æ–∑–∏—Ü–∏—è: –≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–∞–≤—ã–π —É–≥–æ–ª –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã/—Å–µ–∫—Ü–∏–∏
- –°—Ç–∏–ª—å: –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å hover-—ç—Ñ—Ñ–µ–∫—Ç–æ–º

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Profile):**
   - –°–ø—Ä–∞–≤–∞ –æ—Ç –≤–∞–ª—é—Ç—ã –∏–ª–∏ –Ω–∞–¥ –Ω–µ–π
   - –û–±–Ω–æ–≤–ª—è–µ—Ç: –ø—Ä–æ—Ñ–∏–ª—å, –∞–∫—Ç–∏–≤–Ω—É—é –≤–∞–π—Ñ—É, –≤–∞–ª—é—Ç—É

2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–æ–∏ –≤–∞–π—Ñ—É":**
   - –°–ø—Ä–∞–≤–∞ –æ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–ú–æ–∏ –≤–∞–π—Ñ—É"
   - –û–±–Ω–æ–≤–ª—è–µ—Ç: –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ –≤–∞–π—Ñ—É

3. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü—Ä–æ–∫–∞—á–∫–∞ –Ω–∞–≤—ã–∫–æ–≤":**
   - –°–ø—Ä–∞–≤–∞ –æ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
   - –û–±–Ω–æ–≤–ª—è–µ—Ç: –¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤, –æ—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. –ü—Ä–∏ –∫–ª–∏–∫–µ:
   - –ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ (–≤—Ä–∞—â–∞—é—â–∞—è—Å—è –∏–∫–æ–Ω–∫–∞)
   - –í—ã–∑–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é, –ø–æ–∫–∞–∑–∞—Ç—å –∫—Ä–∞—Ç–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
   - Profile: `await loadProfile()`
   - Waifus: `await loadWaifuList(container)`
   - Skills: `await loadSkills(container)`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

**HTML:**
–î–æ–±–∞–≤–∏—Ç—å –≤ —à–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü (`webapp/index.html`, `webapp/profile.html`):
```html
<button id="refresh-btn" class="refresh-button" onclick="refreshCurrentPage()" title="–û–±–Ω–æ–≤–∏—Ç—å">
    üîÑ
</button>
```

**CSS:**
```css
.refresh-button {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.8);
    border: 2px solid #ddd;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.refresh-button:hover {
    background: white;
    border-color: #667eea;
    transform: scale(1.1);
}

.refresh-button:active {
    transform: scale(0.95) rotate(180deg);
}
```

**JavaScript:**
```javascript
async function refreshCurrentPage() {
    const refreshBtn = document.getElementById('refresh-btn');
    if (!refreshBtn) return;
    
    // Add spinning animation
    refreshBtn.style.animation = 'spin 1s linear infinite';
    
    try {
        if (currentView === 'profile') {
            await loadProfile();
        } else if (currentView === 'waifus') {
            const container = document.getElementById('view-content');
            await loadWaifuList(container);
        } else if (currentView === 'skills') {
            const container = document.getElementById('view-content');
            await loadSkills(container);
        }
        
        // Show success animation
        refreshBtn.style.animation = 'none';
        setTimeout(() => {
            refreshBtn.style.transform = 'scale(1.1)';
            setTimeout(() => refreshBtn.style.transform = '', 200);
        }, 100);
    } catch (error) {
        console.error('Error refreshing page:', error);
        refreshBtn.style.animation = 'none';
    }
}

// Add CSS for animation
const style = document.createElement('style');
style.textContent = `
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
`;
document.head.appendChild(style);
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **Debounce**: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –∫–ª–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –∫–ª–∏–∫ –≤ 2 —Å–µ–∫—É–Ω–¥—ã)
2. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å—Ç–∞—Ä–µ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ)
3. **Auto-refresh**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ–æ–∫—É—Å–∞

---

## 3. üè∞ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–µ–Ω—é "–ö–ª–∞–Ω"

### –û–±–∑–æ—Ä
–°–∏—Å—Ç–µ–º–∞ –∫–ª–∞–Ω–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–π –∏–≥—Ä—ã, —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏.

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏

#### 3.1. –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–Ω–æ–º

**–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–Ω–∞:**
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
  - –£—Ä–æ–≤–µ–Ω—å –∞–∫–∫–∞—É–Ω—Ç–∞ >= 10
  - –°—Ç–æ–∏–º–æ—Å—Ç—å: 1000 –∑–æ–ª–æ—Ç–∞ –∏–ª–∏ 100 –≥–µ–º–æ–≤
  - –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞–Ω–∞ (3-20 —Å–∏–º–≤–æ–ª–æ–≤, —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)
  - –¢–µ–≥ –∫–ª–∞–Ω–∞ (2-4 —Å–∏–º–≤–æ–ª–∞, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–µ–º –∏–≥—Ä–æ–∫–∞)
  - –û–ø–∏—Å–∞–Ω–∏–µ (–¥–æ 200 —Å–∏–º–≤–æ–ª–æ–≤)
  - –≠–º–±–ª–µ–º–∞/–ª–æ–≥–æ—Ç–∏–ø (–≤—ã–±–æ—Ä –∏–∑ 20 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–æ–Ω–∞—Ç-–∫–æ–Ω—Ç–µ–Ω—Ç)
  - –¢–∏–ø –∫–ª–∞–Ω–∞:
    - `open` - –æ—Ç–∫—Ä—ã—Ç—ã–π (–ª—é–±–æ–π –º–æ–∂–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è)
    - `invite` - —Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é
    - `closed` - –∑–∞–∫—Ä—ã—Ç—ã–π (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—è)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
  - –û–¥–∏–Ω –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –∫–ª–∞–Ω–µ
  - –ú–∞–∫—Å–∏–º—É–º 50 —á–ª–µ–Ω–æ–≤ –≤ –∫–ª–∞–Ω–µ (–º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –∑–∞ –¥–æ–Ω–∞—Ç)

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–Ω–æ–º (—Ä–æ–ª–∏):**
- `Leader` (–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å):
  - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
  - –ü–µ—Ä–µ–¥–∞—á–∞ –ª–∏–¥–µ—Ä—Å—Ç–≤–∞
  - –†–æ—Å–ø—É—Å–∫ –∫–ª–∞–Ω–∞
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
  - –í—ã–¥–∞—á–∞ —Ä–æ–ª–µ–π
- `Officer` (–û—Ñ–∏—Ü–µ—Ä) - 1-3 –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è:
  - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
  - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–∫—Ä–æ–º–µ –æ—Ñ–∏—Ü–µ—Ä–æ–≤ –∏ –ª–∏–¥–µ—Ä–∞)
  - –ó–∞–ø—É—Å–∫ —Å–æ–±—ã—Ç–∏–π –∫–ª–∞–Ω–∞
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `Member` (–£—á–∞—Å—Ç–Ω–∏–∫):
  - –û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  - –í—ã—Ö–æ–¥ –∏–∑ –∫–ª–∞–Ω–∞

#### 3.2. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ß–∞—Ç—ã –∫–ª–∞–Ω–∞:**
- –í–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–æ–π —á–∞—Ç (—Ç–µ–∫—Å—Ç–æ–≤—ã–π)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
  - –î–æ 500 —Å–æ–æ–±—â–µ–Ω–∏–π (—Å—Ç–∞—Ä—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è)
  - –¢–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª–∞–Ω–∞
  - –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–ª–∏–¥–µ—Ä/–æ—Ñ–∏—Ü–µ—Ä—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å)

**–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è:**
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è—Ö
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π

#### 3.3. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∫–ª–∞–Ω–∞

**–ö–ª–∞–Ω–æ–≤–∞—è —Å–∏–ª–∞:**
```
–ö–ª–∞–Ω–æ–≤–∞—è —Å–∏–ª–∞ = Œ£(–ú–æ—â—å –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∞–π—Ñ—É –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
```

**–£—Ä–æ–≤–µ–Ω—å –∫–ª–∞–Ω–∞:**
- –û–ø—ã—Ç –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∑–∞:
  - –ï–∂–µ–¥–Ω–µ–≤–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (+1 XP –∑–∞ –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞)
  - –ö–ª–∞–Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ –Ω–∞–≥—Ä–∞–¥—ã
- –ë–æ–Ω—É—Å—ã –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è:
  - –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (+5 –∑–∞ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å)
  - –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã
  - –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–†–µ–π—Ç–∏–Ω–≥:**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –∫–ª–∞–Ω–æ–≤ –ø–æ –æ–±—â–µ–π —Å–∏–ª–µ
- –†–µ–π—Ç–∏–Ω–≥ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –õ–∏–¥–µ—Ä—ã —Å–µ–∑–æ–Ω–∞ (–µ–∂–µ–º–µ—Å—è—á–Ω–æ)

#### 3.4. –ö–ª–∞–Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

**–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:**

1. **Clan Raid** (–†–µ–π–¥ –Ω–∞ –±–æ—Å—Å–∞):
   - –£—á–∞—Å—Ç–≤—É—é—Ç –≤—Å–µ —á–ª–µ–Ω—ã –∫–ª–∞–Ω–∞
   - –û–±—â–∏–π –±–æ—Å—Å —Å HP = (–°—Ä–µ–¥–Ω—è—è –º–æ—â–Ω–æ—Å—Ç—å –∫–ª–∞–Ω–∞ √ó 10)
   - –ù–∞–≥—Ä–∞–¥—ã –ø–æ —É—Ä–æ–Ω—É:
     - –¢–æ–ø-1: —ç–ø–æ—Ö–∏, –æ—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤, —Ä–µ–¥–∫–∏–µ –≤–∞–π—Ñ—É
     - –¢–æ–ø-3: —ç–ø–∏—á–µ—Å–∫–∏–µ –Ω–∞–≥—Ä–∞–¥—ã
     - –¢–æ–ø-10: —Ä–µ–¥–∫–∏–µ –Ω–∞–≥—Ä–∞–¥—ã
     - –í—Å–µ: –∑–æ–ª–æ—Ç–æ, –æ—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤
   - –ß–∞—Å—Ç–æ—Ç–∞: –∫–∞–∂–¥—ã–µ 3 –¥–Ω—è

2. **Clan War** (–í–æ–π–Ω–∞ –∫–ª–∞–Ω–æ–≤):
   - 1v1 –º–µ–∂–¥—É –¥–≤—É–º—è –∫–ª–∞–Ω–∞–º–∏
   - –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Å–∏–ª–µ
   - 3 –±–æ—è –Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞
   - –ü–æ–±–µ–¥–∞: —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
   - –ß–∞—Å—Ç–æ—Ç–∞: –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ –ª–∏–¥–µ—Ä/–æ—Ñ–∏—Ü–µ—Ä—ã

3. **Clan Quest** (–ö–ª–∞–Ω–æ–≤—ã–µ –∫–≤–µ—Å—Ç—ã):
   - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è:
     - "–í—ã–∑–≤–∞—Ç—å N –≤–∞–π—Ñ—É"
     - "–ü—Ä–æ–∫–∞—á–∞—Ç—å N –≤–∞–π—Ñ—É –¥–æ —É—Ä–æ–≤–Ω—è X"
     - "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å N –∑–æ–ª–æ—Ç–∞"
   - –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
   - –ù–∞–≥—Ä–∞–¥—ã –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤

4. **Boss Challenge** (–ò—Å–ø—ã—Ç–∞–Ω–∏–µ –±–æ—Å—Å–æ–≤):
   - –ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –Ω–æ–≤—ã–π –±–æ—Å—Å
   - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –±–∏—Ç–≤–∞ (–∫–∞–∂–¥—ã–π —Å–∞–º –ø–æ —Å–µ–±–µ)
   - –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø–æ–±–µ–¥—É
   - –†–µ–π—Ç–∏–Ω–≥ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–±–µ–¥—ã

#### 3.5. –°–∏—Å—Ç–µ–º–∞ –¥–æ–Ω–∞—Ç–æ–≤

**–ö–ª–∞–Ω–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:**
- –ò–≥—Ä–æ–∫–∏ –º–æ–≥—É—Ç –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å:
  - –ó–æ–ª–æ—Ç–æ (–æ–±—â–∏–π –±–∞–ª–∞–Ω—Å –¥–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤)
  - –û—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤
  - –í–∞–ª—é—Ç–∞ —Å–æ–±—ã—Ç–∏–π (raid coins, war medals)
- –õ–∏–¥–µ—Ä/–æ—Ñ–∏—Ü–µ—Ä—ã —Ä–∞—Å—Ö–æ–¥—É—é—Ç –Ω–∞:
  - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±—É—Å—Ç—ã –¥–ª—è —Ä–µ–π–¥–æ–≤
  - –ü—Ä–∏–∑—ã–≤—ã —Ä–µ–¥–∫–∏—Ö –≤–∞–π—Ñ—É –¥–ª—è –≤—Å–µ—Ö
  - –£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–æ–≤—ã—Ö –∑–¥–∞–Ω–∏–π (—Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- –õ–∏–º–∏—Ç –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π: 10,000 –∑–æ–ª–æ—Ç–∞/–¥–µ–Ω—å –Ω–∞ –∏–≥—Ä–æ–∫–∞

#### 3.6. –ö–ª–∞–Ω–æ–≤—ã–µ –±–æ–Ω—É—Å—ã

**–ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã:**
- –ü—Ä–∏ —É—Ä–æ–≤–Ω–µ –∫–ª–∞–Ω–∞ >= 5: +10% –∑–æ–ª–æ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ü—Ä–∏ —É—Ä–æ–≤–Ω–µ –∫–ª–∞–Ω–∞ >= 10: +15% –æ–ø—ã—Ç–∞
- –ü—Ä–∏ —É—Ä–æ–≤–Ω–µ –∫–ª–∞–Ω–∞ >= 20: +1 —à–∞–Ω—Å –Ω–∞ —ç–ø–∏—á–µ—Å–∫—É—é –≤–∞–π—Ñ—É –≤ –ø—Ä–∏–∑—ã–≤–µ

**–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã:**
- –ó–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –∫–ª–∞–Ω–µ
- –ó–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Å–æ–±—ã—Ç–∏—è—Ö
- –ó–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤

#### 3.7. UI/UX –¥–∏–∑–∞–π–Ω

**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–ª–∞–Ω–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [üîÑ]  üè∞ –ò–º—è –∫–ª–∞–Ω–∞ #TAG        [‚öôÔ∏è]   ‚îÇ ‚Üê –ó–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìä –£—Ä–æ–≤–µ–Ω—å: 15  |  üí™ –°–∏–ª–∞: 1,234,567  ‚îÇ ‚Üê –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ  üë• –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: 23/50                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚öîÔ∏è –¢–µ–∫—É—â–∏–µ —Å–æ–±—ã—Ç–∏—è:                    ‚îÇ ‚Üê –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ üêâ Clan Raid: Boss HP: 45%        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [–ê—Ç–∞–∫–æ–≤–∞—Ç—å] [üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üéØ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∫–≤–µ—Å—Ç—ã:                ‚îÇ ‚Üê –ö–≤–µ—Å—Ç—ã
‚îÇ  [Progress bars...]                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ (23):                     ‚îÇ ‚Üê –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îÇ  [Grid of 23 avatars with roles]        ‚îÇ
‚îÇ  [–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ‚Üì]                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üí¨ –ß–∞—Ç –∫–ª–∞–Ω–∞:                          ‚îÇ ‚Üê –ß–∞—Ç
‚îÇ  [Last 5 messages...]                   ‚îÇ
‚îÇ  [–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç ‚Üí]                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–±—ã—Ç–∏–π:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚Üê  üéÆ –°–æ–±—ã—Ç–∏—è –∫–ª–∞–Ω–∞                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üî¥ –ê–∫—Ç–∏–≤–Ω–æ:                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ üêâ Clan Raid                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –û—Å—Ç–∞–ª–æ—Å—å: 2–¥ 5—á                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ HP –±–æ—Å—Å–∞: 45%                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞—Ç—å]                    ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚è∞ –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ:                        ‚îÇ
‚îÇ  [List of upcoming events]              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üìú –ò—Å—Ç–æ—Ä–∏—è:                            ‚îÇ
‚îÇ  [Past events with results]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [üîç]  üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª–∞–Ω–∞ (23)          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –õ–∏–¥–µ—Ä:                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ [üëë] PlayerName                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ –°–∏–ª–∞: 123,456  |  –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ‚≠ê  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [üëÅÔ∏è –ü—Ä–æ—Ñ–∏–ª—å] [‚öôÔ∏è]              ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –û—Ñ–∏—Ü–µ—Ä—ã:                               ‚îÇ
‚îÇ  [List of 2 officers...]                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –£—á–∞—Å—Ç–Ω–∏–∫–∏:                             ‚îÇ
‚îÇ  [Grid of 20 members...]                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 3.8. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```sql
CREATE TABLE clans (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    tag VARCHAR(10) UNIQUE NOT NULL,
    description TEXT,
    emblem_id INTEGER,
    type VARCHAR(20) DEFAULT 'open',
    leader_id INTEGER REFERENCES users(id),
    level INTEGER DEFAULT 1,
    experience BIGINT DEFAULT 0,
    total_power BIGINT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    settings JSONB DEFAULT '{}'
);

CREATE TABLE clan_members (
    id SERIAL PRIMARY KEY,
    clan_id INTEGER REFERENCES clans(id) ON DELETE CASCADE,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
    role VARCHAR(20) DEFAULT 'member',
    joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_active TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    donated_gold BIGINT DEFAULT 0,
    donated_skills INTEGER DEFAULT 0,
    UNIQUE(clan_id, user_id)
);

CREATE TABLE clan_events (
    id SERIAL PRIMARY KEY,
    clan_id INTEGER REFERENCES clans(id) ON DELETE CASCADE,
    event_type VARCHAR(50),
    started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ends_at TIMESTAMP,
    status VARCHAR(20) DEFAULT 'active',
    data JSONB,
    rewards JSONB
);

CREATE TABLE clan_event_participations (
    id SERIAL PRIMARY KEY,
    event_id INTEGER REFERENCES clan_events(id) ON DELETE CASCADE,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
    score BIGINT DEFAULT 0,
    contribution JSONB,
    UNIQUE(event_id, user_id)
);
```

**API Endpoints:**
```
POST   /api/clans/create              - –°–æ–∑–¥–∞—Ç—å –∫–ª–∞–Ω
GET    /api/clans/search              - –ü–æ–∏—Å–∫ –∫–ª–∞–Ω–æ–≤
POST   /api/clans/join                - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–ª–∞–Ω—É
POST   /api/clans/leave               - –ü–æ–∫–∏–Ω—É—Ç—å –∫–ª–∞–Ω
GET    /api/clans/{id}                - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∞–Ω–µ
PATCH  /api/clans/{id}/settings       - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ª–∏–¥–µ—Ä)
GET    /api/clans/{id}/members        - –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
POST   /api/clans/{id}/invite         - –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∏–≥—Ä–æ–∫–∞
POST   /api/clans/{id}/kick           - –ò—Å–∫–ª—é—á–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
POST   /api/clans/{id}/promote        - –ü–æ–≤—ã—Å–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
POST   /api/clans/{id}/donate         - –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã
GET    /api/clans/{id}/events         - –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
POST   /api/clans/{id}/events/start   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
POST   /api/clans/{id}/raid/attack    - –ê—Ç–∞–∫–æ–≤–∞—Ç—å –±–æ—Å—Å–∞ –≤ —Ä–µ–π–¥–µ
GET    /api/clans/{id}/chat           - –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
POST   /api/clans/{id}/chat/send      - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
```

#### 3.9. –§–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–§–∞–∑–∞ 1 - MVP (–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª):**
1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–Ω–∞
2. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ/–≤—ã—Ö–æ–¥ –∏–∑ –∫–ª–∞–Ω–∞
3. –ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
4. –ß–∞—Ç –∫–ª–∞–Ω–∞
5. **–í—Ä–µ–º—è:** 2-3 –Ω–µ–¥–µ–ª–∏

**–§–∞–∑–∞ 2 - –°–æ–±—ã—Ç–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
6. Clan Raid (—Ä–µ–π–¥ –Ω–∞ –±–æ—Å—Å–∞)
7. –ö–ª–∞–Ω–æ–≤—ã–µ –∫–≤–µ—Å—Ç—ã
8. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —É—Ä–æ–≤–Ω—è
9. **–í—Ä–µ–º—è:** 2-3 –Ω–µ–¥–µ–ª–∏

**–§–∞–∑–∞ 3 - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
10. Clan War (–≤–æ–π–Ω—ã –º–µ–∂–¥—É –∫–ª–∞–Ω–∞–º–∏)
11. Boss Challenge (–∏—Å–ø—ã—Ç–∞–Ω–∏—è –±–æ—Å—Å–æ–≤)
12. –°–∏—Å—Ç–µ–º–∞ –¥–æ–Ω–∞—Ç–æ–≤
13. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è UI/UX
14. **–í—Ä–µ–º—è:** 2-3 –Ω–µ–¥–µ–ª–∏

**–§–∞–∑–∞ 4 - –ü–æ–ª–∏—Ä–æ–≤–∫–∞:**
15. –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä–∞–¥
16. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π
17. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è
18. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏
19. **–í—Ä–µ–º—è:** 1-2 –Ω–µ–¥–µ–ª–∏

#### 3.10. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏

**–ö–ª–∞–Ω–æ–≤—ã–µ –∑–¥–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- Guild Hall (–ó–∞–ª –≥–∏–ª—å–¥–∏–∏):
  - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
  - –£—Ä–æ–≤–Ω–∏: 1-10
- Training Grounds (–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø–ª–∞—Ü):
  - +5% –æ–ø—ã—Ç–∞ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - –£—Ä–æ–≤–Ω–∏: 1-5
- Treasury (–ö–∞–∑–Ω–∞):
  - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ª–∏–º–∏—Ç –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π
  - –£—Ä–æ–≤–Ω–∏: 1-5

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–ª–∞–Ω–∞:**
- "–ü–µ—Ä–≤–∞—è –ø–æ–±–µ–¥–∞ –≤ —Ä–µ–π–¥–µ"
- "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –∫–ª–∞–Ω" (30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –≤ –¢–û–ü-10)
- "–í–æ–∏–Ω—Å–∫–∏–π –∫–æ–¥" (100 –ø–æ–±–µ–¥ –≤ –≤–æ–π–Ω–∞—Ö –∫–ª–∞–Ω–æ–≤)
- "–©–µ–¥—Ä—ã–π –∫–ª–∞–Ω" (10,000,000 –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–æ–ª–æ—Ç–∞)

**–ö–ª–∞–Ω–æ–≤—ã–µ —Å–∫–∏–Ω—ã:**
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è –∫–ª–∞–Ω–∞
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–∞–º–∫–∏ –¥–ª—è –≤–∞–π—Ñ—É
- –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —ç–º–æ–¥–∑–∏
- –ö–ª–∞–Ω–æ–≤—ã–µ —Ç–∏—Ç—É–ª—ã

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:**
- –°–æ–∑–¥–∞–Ω–∏–µ/—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–Ω–∞–º–∏
- –ë–∞–∑–æ–≤—ã–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- Clan Raid
- –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –∏ –Ω–∞–≥—Ä–∞–¥

**–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:**
- Clan War
- Boss Challenge
- –ö–ª–∞–Ω–æ–≤—ã–µ –∑–¥–∞–Ω–∏—è
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- Telegram Bot API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç persistent —á–∞—Ç—ã
- –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (50-100 –º–∞–∫—Å –¥–ª—è —Å—Ç–∞—Ä—Ç–∞)

---

## –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–ü–µ—Ä–≤–æ–æ—á–µ—Ä–µ–¥–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
1. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤–∞–π—Ñ—É - 1-2 –¥–Ω—è
2. ‚úÖ –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - 1 –¥–µ–Ω—å
3. ‚è≥ –ö–ª–∞–Ω—ã MVP - 2-3 –Ω–µ–¥–µ–ª–∏

**–ü–æ—Å–ª–µ MVP –∫–ª–∞–Ω–æ–≤:**
4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
5. –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞
6. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 100% —Å–ª—É—á–∞–µ–≤
- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è >30% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- >50% –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å –∫ –∫–ª–∞–Ω–∞–º
- >60% —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–ª–∞–Ω–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã


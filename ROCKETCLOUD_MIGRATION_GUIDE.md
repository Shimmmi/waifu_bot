# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ RocketCloud

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–æ–±–∑–æ—Ä-—Ç–µ–∫—É—â–µ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
2. [–°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-ssh-–∫–ª—é—á–∞)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫-–º–∏–≥—Ä–∞—Ü–∏–∏)
4. [–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ RocketCloud](#—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-rocketcloud)
5. [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ VPS –∫–∞–∫ workspace –≤ Cursor](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-vps-–∫–∞–∫-workspace-–≤-cursor)
6. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL –Ω–∞ RocketCloud](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-postgresql-–Ω–∞-rocketcloud)
7. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis –Ω–∞ RocketCloud](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-redis-–Ω–∞-rocketcloud)
8. [–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–º–∏–≥—Ä–∞—Ü–∏—è-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
9. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ RocketCloud](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–Ω–∞-rocketcloud)
10. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ SSL](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–¥–æ–º–µ–Ω–∞-–∏-ssl)
11. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Webhook](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-telegram-webhook)
12. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
13. [Troubleshooting](#troubleshooting)

---

## üìä –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –¢–µ–∫—É—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- **Backend (FastAPI)**: Render.com
- **Database (PostgreSQL)**: Neon Console
- **Redis**: Redis Cloud (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π)
- **Domain**: shimmirpgbot.ru
- **Bot**: Telegram Bot (aiogram 3.x)

### –ß—Ç–æ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
- **Backend (FastAPI)**: RocketCloud VPS
- **Database (PostgreSQL)**: RocketCloud VPS (–ª–æ–∫–∞–ª—å–Ω—ã–π)
- **Redis**: RocketCloud VPS (–ª–æ–∫–∞–ª—å–Ω—ã–π)
- **Domain**: shimmirpgbot.ru (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ RocketCloud)
- **Bot**: Telegram Bot (aiogram 3.x)

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ pg_dump (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL client –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# Windows: https://www.postgresql.org/download/windows/
# Linux/Mac: sudo apt-get install postgresql-client

# –≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ Neon
pg_dump "postgresql://username:password@host.neon.tech:5432/dbname?sslmode=require" \
  --format=custom \
  --file=waifu_bot_backup_$(date +%Y%m%d_%H%M%S).dump

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ–π SQL –¥–∞–º–ø
pg_dump "postgresql://username:password@host.neon.tech:5432/dbname?sslmode=require" \
  --file=waifu_bot_backup_$(date +%Y%m%d_%H%M%S).sql
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Neon Console

1. –í–æ–π–¥–∏—Ç–µ –≤ Neon Console
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ SQL –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —ç–∫—Å–ø–æ—Ä—Ç–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)

### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.backup` —Å —Ç–µ–∫—É—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ Render Dashboard
# –í Render: Environment ‚Üí —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ñ–∞–π–ª .env.backup
BOT_TOKEN=your_bot_token_here
DATABASE_URL=postgresql://neon_connection_string
REDIS_URL=redis://redis_connection_string
WEBAPP_URL=https://shimmirpgbot.ru
ENV=production
ADMIN_ID=your_admin_id
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ SQL –º–∏–≥—Ä–∞—Ü–∏–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `sql/`:

```bash
ls -la sql/
```

–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –Ω–æ–≤–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üîë –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞

SSH –∫–ª—é—á –Ω—É–∂–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É RocketCloud. –ù–∞ Windows –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–ª—é—á –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenSSH (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Windows 10/11)

#### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è OpenSSH

```powershell
# –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∏–ª–∏ Windows Terminal
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ ssh
ssh -V
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ OpenSSH:
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã" ‚Üí "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è" ‚Üí "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏"
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç"
3. –ù–∞–π–¥–∏—Ç–µ "–ö–ª–∏–µ–Ω—Ç OpenSSH" –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ

#### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–∞

```powershell
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ SSH –∫–ª—é—á–∞
ssh-keygen -t ed25519 -C "your_email@example.com"

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RSA (–µ—Å–ª–∏ ed25519 –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

**–í–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∑–∞–¥–∞–Ω—ã:**
1. **–ì–¥–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á?** –ù–∞–∂–º–∏—Ç–µ `Enter` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—É—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
   ```
   C:\Users\–í–∞—à–µ–ò–º—è\.ssh\id_ed25519
   ```
2. **–ü–∞—Ä–æ–ª—å –¥–ª—è –∫–ª—é—á–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** 
   - –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º (–Ω–∞–∂–º–∏—Ç–µ `Enter`) - –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ —É–¥–æ–±–Ω–µ–µ
   - –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã

#### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

```powershell
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
cat ~/.ssh/id_ed25519.pub

# –ò–ª–∏ –≤ PowerShell
Get-Content ~/.ssh/id_ed25519.pub

# –ò–ª–∏ —á–µ—Ä–µ–∑ Notepad
notepad ~/.ssh/id_ed25519.pub
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç** - —ç—Ç–æ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á. –û–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
```
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIExampleKey1234567890 your_email@example.com
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Git Bash (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git)

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ Git Bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
ssh-keygen -t ed25519 -C "your_email@example.com"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
cat ~/.ssh/id_ed25519.pub
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PuTTY (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)

1. **–°–∫–∞—á–∞–π—Ç–µ PuTTYgen:**
   - –°–∫–∞—á–∞–π—Ç–µ —Å https://www.putty.org/
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `winget install PuTTY.PuTTY`

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `puttygen.exe`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–ª—é—á–∞: **EdDSA** –∏–ª–∏ **RSA** (4096 –±–∏—Ç)
   - –ù–∞–∂–º–∏—Ç–µ **"Generate"**
   - –ü–æ–¥–≤–∏–≥–∞–π—Ç–µ –º—ã—à–∫–æ–π –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏
   - –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ù–∞–∂–º–∏—Ç–µ **"Save public key"** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `id_ed25519.pub`
   - –ù–∞–∂–º–∏—Ç–µ **"Save private key"** - —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `id_ed25519.ppk`

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞:**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è "Public key for pasting into OpenSSH authorized_keys file"
   - –≠—Ç–æ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–ª—è RocketCloud

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WSL (Windows Subsystem for Linux)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω WSL:

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ WSL (Ubuntu –∏–ª–∏ –¥—Ä—É–≥–æ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤)
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
ssh-keygen -t ed25519 -C "your_email@example.com"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
cat ~/.ssh/id_ed25519.pub
```

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –ø—É–±–ª–∏—á–Ω—ã–º –∫–ª—é—á–æ–º?

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `ssh-ed25519` –∏–ª–∏ `ssh-rsa`)
2. **–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/—Å–æ–∑–¥–∞–Ω–∏–∏ VPS –≤ RocketCloud:**
   - –í—Å—Ç–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ –ø–æ–ª–µ "SSH –∫–ª—é—á"
   - –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ ‚Üí "SSH –∫–ª—é—á–∏"

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

- **–ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á** (`id_ed25519.pub`) - –º–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è, –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã
- **–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á** (`id_ed25519`) - **–ù–ò–ö–û–ì–î–ê** –Ω–µ –¥–µ–ª–∏—Ç–µ—Å—å –∏–º, —Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Å–µ–∫—Ä–µ—Ç–µ
- –ï—Å–ª–∏ –≤—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á, –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω (–µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–∞—Ä–æ–ª—å)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –≤ SSH agent (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

```powershell
# –ó–∞–ø—É—Å–∫ SSH agent
Start-Service ssh-agent

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞
ssh-add ~/.ssh/id_ed25519
```

---

## üåê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ RocketCloud

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ RocketCloud

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://rocketcloud.ru
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. **–î–æ–±–∞–≤—å—Ç–µ SSH –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–∫–∫–∞—É–Ω—Ç–∞:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "SSH –∫–ª—é—á–∏"
   - –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á"
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–∞–Ω–µ–µ)
   - –î–∞–π—Ç–µ –∏–º—è –∫–ª—é—á—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ú–æ–π —Ä–∞–±–æ—á–∏–π –∫–æ–º–ø—å—é—Ç–µ—Ä")
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã" (VPS)

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **–û–°**: Ubuntu 22.04 LTS (–∏–ª–∏ 20.04)
- **CPU**: 2-4 —è–¥—Ä–∞
- **RAM**: 4-8 GB
- **–î–∏—Å–∫**: 50-100 GB SSD
- **–¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω**: –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π (Startup –∏–ª–∏ –≤—ã—à–µ)

#### –®–∞–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è:

1. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å VPS"
2. –í—ã–±–µ—Ä–∏—Ç–µ Ubuntu 22.04 LTS
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 4GB RAM)
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)
5. **–í—ã–±–µ—Ä–∏—Ç–µ SSH –∫–ª—é—á** (–∫–æ—Ç–æ—Ä—ã–π –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ä–∞–Ω–µ–µ) –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å
6. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"
7. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è (–æ–±—ã—á–Ω–æ 5-10 –º–∏–Ω—É—Ç)

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞:

1. –í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à VPS
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ root –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ SSH –∫–ª—é—á)

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å SSH –∫–ª—é—á–æ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

**–ù–∞ Windows (PowerShell –∏–ª–∏ Git Bash):**

```powershell
# –ï—Å–ª–∏ –∫–ª—é—á –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –º–µ—Å—Ç–µ
ssh root@YOUR_SERVER_IP

# –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –∫–ª—é—á—É —è–≤–Ω–æ
ssh -i ~/.ssh/id_ed25519 root@YOUR_SERVER_IP

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PuTTY (—Å .ppk —Ñ–∞–π–ª–æ–º):
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ PuTTY
# 2. –í–≤–µ–¥–∏—Ç–µ IP: YOUR_SERVER_IP
# 3. Connection ‚Üí SSH ‚Üí Auth ‚Üí Credentials
# 4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à .ppk —Ñ–∞–π–ª
# 5. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
```

**–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SSH –∫–ª—é—á, –ø–∞—Ä–æ–ª—å –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è.**

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–∞—Ä–æ–ª–µ–º:

```powershell
ssh root@YOUR_SERVER_IP
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ (–ø–∞—Ä–æ–ª—å –±—É–¥–µ—Ç —Å–∫—Ä—ã—Ç –ø—Ä–∏ –≤–≤–æ–¥–µ)
```

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏** –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ —Ö–æ—Å—Ç–∞ - –≤–≤–µ–¥–∏—Ç–µ `yes` –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.

### 4. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ VPS –∫–∞–∫ workspace –≤ Cursor

Cursor (–∏ VS Code) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ SSH. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.

#### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Remote SSH

1. –û—Ç–∫—Ä–æ–π—Ç–µ Cursor
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (–∏–ª–∏ `Ctrl+Shift+X`)
3. –ù–∞–π–¥–∏—Ç–µ "Remote - SSH" (–∞–≤—Ç–æ—Ä: Microsoft)
4. –ù–∞–∂–º–∏—Ç–µ "Install" (–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)

#### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –í Cursor –Ω–∞–∂–º–∏—Ç–µ `Ctrl+Shift+P` (–∏–ª–∏ `F1`)
2. –í–≤–µ–¥–∏—Ç–µ "Remote-SSH: Open SSH Configuration File"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   - Windows: `C:\Users\–í–∞—à–µ–ò–º—è\.ssh\config`
   - –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

4. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

```
Host rocketcloud-vps
    HostName YOUR_SERVER_IP
    User root
    IdentityFile ~/.ssh/id_ed25519
    # –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥—Ä—É–≥–æ–π –∫–ª—é—á:
    # IdentityFile C:\Users\–í–∞—à–µ–ò–º—è\.ssh\id_rsa
    ServerAliveInterval 60
    ServerAliveCountMax 3
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**
- `YOUR_SERVER_IP` - –Ω–∞ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ VPS
- `~/.ssh/id_ed25519` - –Ω–∞ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É SSH –∫–ª—é—á—É (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è)

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞—Ä–æ–ª—å –≤–º–µ—Å—Ç–æ SSH –∫–ª—é—á–∞:**

```
Host rocketcloud-vps
    HostName YOUR_SERVER_IP
    User root
    PreferredAuthentications password
    ServerAliveInterval 60
    ServerAliveCountMax 3
```

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (`Ctrl+S`)

#### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

1. –í Cursor –Ω–∞–∂–º–∏—Ç–µ `Ctrl+Shift+P`
2. –í–≤–µ–¥–∏—Ç–µ "Remote-SSH: Connect to Host"
3. –í—ã–±–µ—Ä–∏—Ç–µ `rocketcloud-vps` (–∏–ª–∏ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —É–∫–∞–∑–∞–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ)

**–ò–ª–∏:**
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–µ–ª–µ–Ω—É—é –∏–∫–æ–Ω–∫—É –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É Cursor (–∏–ª–∏ `Ctrl+Shift+P`)
2. –í—ã–±–µ—Ä–∏—Ç–µ "Connect to Host..."
3. –í—ã–±–µ—Ä–∏—Ç–µ `rocketcloud-vps`

4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–æ–≤–æ–µ –æ–∫–Ω–æ Cursor, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
5. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ) –∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

#### –®–∞–≥ 4: –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

1. –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ `Ctrl+K Ctrl+O` (–∏–ª–∏ File ‚Üí Open Folder)
2. –í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```
   /opt/waifu-bot
   ```
3. –ù–∞–∂–º–∏—Ç–µ "OK"

**–ò–ª–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ Cursor (`Ctrl+`` ` - –æ–±—Ä–∞—Ç–Ω–∞—è –∫–∞–≤—ã—á–∫–∞)
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   cd /opt/waifu-bot
   ```

#### –®–∞–≥ 5: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (`Ctrl+Shift+X`)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
   - **Python** (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Python –∫–æ–¥–æ–º)
   - **Pylance** (–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è Python)
   - **SQLTools** (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å SQL)
   - –ò –¥—Ä—É–≥–∏–µ –Ω—É–∂–Ω—ã–µ –≤–∞–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

#### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Python –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞

1. –ù–∞–∂–º–∏—Ç–µ `Ctrl+Shift+P`
2. –í–≤–µ–¥–∏—Ç–µ "Python: Select Interpreter"
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```
   /opt/waifu-bot/venv/bin/python
   ```

#### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Remote SSH:

- **–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è:** `Ctrl+Shift+P` ‚Üí "Remote-SSH: Close Remote Connection"
- **–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:** `Ctrl+Shift+P` ‚Üí "Remote-SSH: Reload Window"
- **–û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:** `Ctrl+`` ` (–æ–±—Ä–∞—Ç–Ω–∞—è –∫–∞–≤—ã—á–∫–∞)
- **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** –ó–µ–ª–µ–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "SSH: rocketcloud-vps"

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Remote SSH:

‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥ –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ  
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π Cursor –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ –û—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ –†–∞–±–æ—Ç–∞ —Å git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ IntelliSense —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  

#### Troubleshooting Remote SSH:

**–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è**

```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
ssh root@YOUR_SERVER_IP

# –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SSH
cat ~/.ssh/config
```

**–ü—Ä–æ–±–ª–µ–º–∞: Cursor –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Ä–æ–ª—å –∫–∞–∂–¥—ã–π —Ä–∞–∑**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ SSH –∫–ª—é—á—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ SSH agent:
  ```powershell
  ssh-add ~/.ssh/id_ed25519
  ```

**–ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**

- –£–≤–µ–ª–∏—á—å—Ç–µ `ServerAliveInterval` –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
  ```
  ServerAliveInterval 30
  ServerAliveCountMax 5
  ```

**–ü—Ä–æ–±–ª–µ–º–∞: –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Å–µ—Ä–≤–µ—Ä—É (–∑–µ–ª–µ–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –≤–Ω–∏–∑—É)
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è: `Ctrl+Shift+P` ‚Üí "Remote-SSH: Reload Window"

**–ü—Ä–æ–±–ª–µ–º–∞: "Bad owner or permissions on .ssh/config"**

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ Windows. SSH —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–∏—Ö –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** (–ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí "–ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞")

2. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ .ssh:**
   ```powershell
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ .ssh —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   $sshPath = "$env:USERPROFILE\.ssh"
   if (Test-Path $sshPath) {
       # –£–¥–∞–ª–∏—Ç–µ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ –ø—Ä–∞–≤–∞
       icacls $sshPath /inheritance:r
       # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
       icacls $sshPath /grant:r "$env:USERNAME:(OI)(CI)F"
   }
   ```

3. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É config:**
   ```powershell
   $configPath = "$env:USERPROFILE\.ssh\config"
   if (Test-Path $configPath) {
       # –£–¥–∞–ª–∏—Ç–µ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ –ø—Ä–∞–≤–∞
       icacls $configPath /inheritance:r
       # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å)
       icacls $configPath /grant:r "$env:USERNAME:(R,W)"
   }
   ```

4. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –∫–ª—é—á—É:**
   ```powershell
   $keyPath = "$env:USERPROFILE\.ssh\id_ed25519"
   if (Test-Path $keyPath) {
       # –£–¥–∞–ª–∏—Ç–µ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ –ø—Ä–∞–≤–∞
       icacls $keyPath /inheritance:r
       # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
       icacls $keyPath /grant:r "$env:USERNAME:(R)"
   }
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞:**
   ```powershell
   icacls "$env:USERPROFILE\.ssh"
   ```

6. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞ –≤ Cursor**

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ):**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª config (—Å–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é!)
   ```powershell
   Copy-Item "$env:USERPROFILE\.ssh\config" "$env:USERPROFILE\.ssh\config.backup"
   Remove-Item "$env:USERPROFILE\.ssh\config"
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª config —á–µ—Ä–µ–∑ Cursor:
   - `Ctrl+Shift+P` ‚Üí "Remote-SSH: Open SSH Configuration File"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Create new config file"

3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ PowerShell:
   ```powershell
   icacls "$env:USERPROFILE\.ssh\config" /inheritance:r /grant:r "$env:USERNAME:(R,W)"
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤:**

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∞–≤, —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∞:
- –í–ª–∞–¥–µ–ª–µ—Ü: –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ü—Ä–∞–≤–∞: –ß—Ç–µ–Ω–∏–µ/–ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ: –æ—Ç–∫–ª—é—á–µ–Ω–æ

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:
```powershell
icacls "$env:USERPROFILE\.ssh\config"
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
C:\Users\–í–∞—à–µ–ò–º—è\.ssh\config –í–∞—à–µ–ò–º—è:(R,W)
```

### 5. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç
apt install -y curl wget git nano htop ufw

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
ufw allow 22/tcp    # SSH
ufw allow 80/tcp    # HTTP
ufw allow 443/tcp   # HTTPS
ufw enable

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
adduser waifubot
usermod -aG sudo waifubot

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
su - waifubot
mkdir -p ~/.ssh
chmod 700 ~/.ssh
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π SSH –∫–ª—é—á –≤ ~/.ssh/authorized_keys
```

---

## üóÑÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL –Ω–∞ RocketCloud

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
apt install -y postgresql postgresql-contrib

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
psql --version

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
systemctl start postgresql
systemctl enable postgresql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status postgresql
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres
su - postgres

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
psql

# –í PostgreSQL –∫–æ–Ω—Å–æ–ª–∏:
CREATE DATABASE waifu_bot;
CREATE USER waifubot_user WITH PASSWORD 'YOUR_STRONG_PASSWORD_HERE';
ALTER ROLE waifubot_user SET client_encoding TO 'utf8';
ALTER ROLE waifubot_user SET default_transaction_isolation TO 'read committed';
ALTER ROLE waifubot_user SET timezone TO 'UTC';
GRANT ALL PRIVILEGES ON DATABASE waifu_bot TO waifubot_user;

# –í—ã—Ö–æ–¥ –∏–∑ PostgreSQL
\q
exit
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ PostgreSQL

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ pg_hba.conf
nano /etc/postgresql/*/main/pg_hba.conf

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞:
# local   all             all                                     peer
# host    all             all             127.0.0.1/32            md5

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ postgresql.conf
nano /etc/postgresql/*/main/postgresql.conf

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
# listen_addresses = 'localhost'  # –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ localhost

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PostgreSQL
systemctl restart postgresql
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql -U waifubot_user -d waifu_bot -h localhost

# –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
# waifu_bot=>

# –í—ã–π–¥–∏—Ç–µ:
\q
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–í–∞—à–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±—É–¥–µ—Ç:

```
postgresql://waifubot_user:YOUR_STRONG_PASSWORD_HERE@localhost:5432/waifu_bot
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üî¥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis –Ω–∞ RocketCloud

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis
apt install -y redis-server

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
systemctl start redis-server
systemctl enable redis-server

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status redis-server
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano /etc/redis/redis.conf

# –ù–∞–π–¥–∏—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
# bind 127.0.0.1  # –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ localhost –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
# requirepass YOUR_REDIS_PASSWORD_HERE  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Redis
systemctl restart redis-server

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
redis-cli ping
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG

# –¢–µ—Å—Ç —Å –ø–∞—Ä–æ–ª–µ–º
redis-cli -a YOUR_REDIS_PASSWORD_HERE ping
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–í–∞—à–∞ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±—É–¥–µ—Ç:

```
redis://:YOUR_REDIS_PASSWORD_HERE@localhost:6379/0
```

–ò–ª–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è (–µ—Å–ª–∏ –≤—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø–∞—Ä–æ–ª—å):

```
redis://localhost:6379/0
```

---

## üì¶ –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ò–∑ custom dump

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª .dump –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp waifu_bot_backup_YYYYMMDD_HHMMSS.dump root@YOUR_SERVER_IP:/tmp/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL client (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
apt install -y postgresql-client

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
pg_restore -U waifubot_user -d waifu_bot -h localhost \
  /tmp/waifu_bot_backup_YYYYMMDD_HHMMSS.dump
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ò–∑ SQL —Ñ–∞–π–ª–∞

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª .sql –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp waifu_bot_backup_YYYYMMDD_HHMMSS.sql root@YOUR_SERVER_IP:/tmp/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
psql -U waifubot_user -d waifu_bot -h localhost \
  -f /tmp/waifu_bot_backup_YYYYMMDD_HHMMSS.sql
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SQL –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π)
cd /opt
git clone YOUR_REPOSITORY_URL waifu-bot
cd waifu-bot

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π
# scp -r sql/ root@YOUR_SERVER_IP:/opt/waifu-bot/sql/

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π
for file in sql/*.sql; do
    echo "Applying migration: $file"
    psql -U waifubot_user -d waifu_bot -h localhost -f "$file"
done
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
psql -U waifubot_user -d waifu_bot -h localhost

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) FROM users;
SELECT COUNT(*) FROM waifu;
SELECT COUNT(*) FROM clans;

# –í—ã—Ö–æ–¥
\q
```

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ RocketCloud

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.11
apt install -y python3.11 python3.11-venv python3.11-dev python3-pip

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è PostgreSQL
apt install -y libpq-dev build-essential

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
mkdir -p /opt/waifu-bot
cd /opt/waifu-bot
```

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git)
git clone YOUR_REPOSITORY_URL .

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ SCP/SFTP
# scp -r /path/to/your/project/* root@YOUR_SERVER_IP:/opt/waifu-bot/
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd /opt/waifu-bot

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3.11 -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source venv/bin/activate

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pip
pip install --upgrade pip

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env
nano /opt/waifu-bot/.env
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `.env`:

```env
# Telegram Bot Configuration
BOT_TOKEN=YOUR_BOT_TOKEN_HERE

# Database Configuration (–ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
DATABASE_URL=postgresql://waifubot_user:YOUR_STRONG_PASSWORD_HERE@localhost:5432/waifu_bot

# Redis Configuration (–ª–æ–∫–∞–ª—å–Ω—ã–π Redis)
REDIS_URL=redis://:YOUR_REDIS_PASSWORD_HERE@localhost:6379/0

# WebApp Configuration
WEBAPP_URL=https://shimmirpgbot.ru

# Admin Configuration
ADMIN_ID=YOUR_TELEGRAM_ID

# Environment
ENV=production
```

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
chmod 600 /opt/waifu-bot/.env
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–ª—É–∂–±—ã –¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ service —Ñ–∞–π–ª–∞
nano /etc/systemd/system/waifu-bot-api.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=Waifu Bot API Server
After=network.target postgresql.service redis-server.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/waifu-bot
Environment="PATH=/opt/waifu-bot/venv/bin"
ExecStart=/opt/waifu-bot/venv/bin/python -m uvicorn bot.api_server:app --host 0.0.0.0 --port 8000
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd
systemctl daemon-reload

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
systemctl start waifu-bot-api

# –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
systemctl enable waifu-bot-api

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status waifu-bot-api

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl -u waifu-bot-api -f
```

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–ª—É–∂–±—ã –¥–ª—è Telegram –±–æ—Ç–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ service —Ñ–∞–π–ª–∞
nano /etc/systemd/system/waifu-bot.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=Waifu Bot Telegram
After=network.target postgresql.service redis-server.service waifu-bot-api.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/waifu-bot
Environment="PATH=/opt/waifu-bot/venv/bin"
ExecStart=/opt/waifu-bot/venv/bin/python -m bot.main
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd
systemctl daemon-reload

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
systemctl start waifu-bot

# –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
systemctl enable waifu-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status waifu-bot

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl -u waifu-bot -f
```

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
apt install -y nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano /etc/nginx/sites-available/waifu-bot
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```nginx
server {
    listen 80;
    server_name shimmirpgbot.ru www.shimmirpgbot.ru;

    # –õ–æ–≥–∏
    access_log /var/log/nginx/waifu-bot-access.log;
    error_log /var/log/nginx/waifu-bot-error.log;

    # –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ FastAPI
    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocket support (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }

    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    location /webapp/ {
        alias /opt/waifu-bot/webapp/;
        expires 1d;
        add_header Cache-Control "public, immutable";
    }

    # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
    client_max_body_size 10M;
}
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
ln -s /etc/nginx/sites-available/waifu-bot /etc/nginx/sites-enabled/

# –£–¥–∞–ª–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
rm /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx
systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status nginx
```

---

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ SSL

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (shimmirpgbot.ru) –¥–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ DNS –∑–∞–ø–∏—Å–∏:

```
A –∑–∞–ø–∏—Å—å:
@           -> YOUR_SERVER_IP
www         -> YOUR_SERVER_IP

(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) CNAME:
www         -> shimmirpgbot.ru
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot (Let's Encrypt)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot
apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
certbot --nginx -d shimmirpgbot.ru -d www.shimmirpgbot.ru

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
# - –í–≤–µ–¥–∏—Ç–µ email
# - –°–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏
# - –í—ã–±–µ—Ä–∏—Ç–µ redirect HTTP to HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
certbot renew --dry-run

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ systemd)
systemctl status certbot.timer
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx –¥–ª—è HTTPS

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx, –Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
nano /etc/nginx/sites-available/waifu-bot
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å `listen 443 ssl;` –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º —Å HTTP –Ω–∞ HTTPS.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
certbot certificates

# –¢–µ—Å—Ç SSL —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
# https://www.ssllabs.com/ssltest/analyze.html?d=shimmirpgbot.ru
```

---

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Webhook

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Webhook –≤–º–µ—Å—Ç–æ Long Polling:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Telegram Webhook
curl -X POST "https://api.telegram.org/botYOUR_BOT_TOKEN/setWebhook" \
  -d "url=https://shimmirpgbot.ru/webhook" \
  -d "allowed_updates=[\"message\",\"callback_query\"]"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Webhook
curl "https://api.telegram.org/botYOUR_BOT_TOKEN/getWebhookInfo"
```

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Long Polling (–∫–∞–∫ –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–¥–µ), Webhook –Ω–µ –Ω—É–∂–µ–Ω.

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl http://localhost:8000/health
curl https://shimmirpgbot.ru/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints
curl https://shimmirpgbot.ru/api/profile
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebApp (–æ—Ç–∫—Ä–æ–π—Ç–µ "–í –∏–≥—Ä—É" –≤ –º–µ–Ω—é –±–æ—Ç–∞)

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ API —Å–µ—Ä–≤–µ—Ä–∞
journalctl -u waifu-bot-api -f

# –õ–æ–≥–∏ Telegram –±–æ—Ç–∞
journalctl -u waifu-bot -f

# –õ–æ–≥–∏ Nginx
tail -f /var/log/nginx/waifu-bot-access.log
tail -f /var/log/nginx/waifu-bot-error.log
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep python
```

### 5. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞

–ï—Å–ª–∏ –¥–æ–º–µ–Ω —É–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Render:

1. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ RocketCloud
2. –ò–∑–º–µ–Ω–∏—Ç–µ DNS –∑–∞–ø–∏—Å–∏ –Ω–∞ –Ω–æ–≤—ã–π IP (RocketCloud)
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (15-60 –º–∏–Ω—É—Ç)
4. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ Render

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: PostgreSQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
journalctl -u postgresql -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pg_lsclusters

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart postgresql
```

### –ü—Ä–æ–±–ª–µ–º–∞: Redis –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
journalctl -u redis-server -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
redis-cli ping

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart redis-server
```

### –ü—Ä–æ–±–ª–µ–º–∞: API —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
journalctl -u waifu-bot-api -n 100

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cat /opt/waifu-bot/.env

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
cd /opt/waifu-bot
source venv/bin/activate
python -m uvicorn bot.api_server:app --host 0.0.0.0 --port 8000
```

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
journalctl -u waifu-bot -n 100

# –ü—Ä–æ–≤–µ—Ä–∫–∞ BOT_TOKEN
grep BOT_TOKEN /opt/waifu-bot/.env

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
cd /opt/waifu-bot
source venv/bin/activate
python -m bot.main
```

### –ü—Ä–æ–±–ª–µ–º–∞: Nginx –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502 Bad Gateway

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
systemctl status waifu-bot-api

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø–æ—Ä—Ç 8000 —Å–ª—É—à–∞–µ—Ç—Å—è
netstat -tlnp | grep 8000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
nginx -t

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Nginx
tail -f /var/log/nginx/waifu-bot-error.log
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
certbot certificates

# –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
certbot renew --force-renewal

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
systemctl status certbot.timer
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql -U waifubot_user -d waifu_bot -h localhost

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ .env
grep DATABASE_URL /opt/waifu-bot/.env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
sudo -u postgres psql -c "\du"
```

### –ü—Ä–æ–±–ª–µ–º–∞: Redis –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
redis-cli -a YOUR_REDIS_PASSWORD_HERE ping

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ .env
grep REDIS_URL /opt/waifu-bot/.env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat /etc/redis/redis.conf | grep requirepass
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [ ] RocketCloud VPS —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] PostgreSQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
- [ ] SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Systemd —Å–ª—É–∂–±—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–µ–Ω
- [ ] DNS –∑–∞–ø–∏—Å–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [ ] API —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] WebApp –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –æ—à–∏–±–∫–∏
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ Render –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

---

## üîÑ –û—Ç–∫–∞—Ç (Rollback)

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–ª—É–∂–±—ã –Ω–∞ RocketCloud:**
   ```bash
   systemctl stop waifu-bot-api
   systemctl stop waifu-bot
   ```

2. **–í–µ—Ä–Ω–∏—Ç–µ DNS –∑–∞–ø–∏—Å–∏ –Ω–∞ Render:**
   - –ò–∑–º–µ–Ω–∏—Ç–µ A –∑–∞–ø–∏—Å—å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ IP Render

3. **–í Render Dashboard:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –æ–±—Ä–∞—Ç–Ω–æ

4. **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º:**
   - –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–ª—É–∂–±
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª Troubleshooting
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É RocketCloud: https://rocketcloud.ru/support
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é RocketCloud: https://rocketcloud.ru/docs

---

## üéâ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:

1. **–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ Render** (–µ—Å–ª–∏ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã)
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prometheus + Grafana)
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –±—ç–∫–∞–ø–∞
nano /opt/waifu-bot/backup.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
BACKUP_DIR="/opt/waifu-bot/backups"
DATE=$(date +%Y%m%d_%H%M%S)
mkdir -p $BACKUP_DIR

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
pg_dump -U waifubot_user -d waifu_bot -h localhost \
  --format=custom \
  --file=$BACKUP_DIR/waifu_bot_$DATE.dump

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π)
find $BACKUP_DIR -name "waifu_bot_*.dump" -mtime +7 -delete
```

```bash
chmod +x /opt/waifu-bot/backup.sh

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ crontab (–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 3:00)
crontab -e
# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
0 3 * * * /opt/waifu-bot/backup.sh
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∏—Å–∫–∞
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤

---

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! üéâ**

–í–∞—à –±–æ—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ RocketCloud —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –Ω–∞–¥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.


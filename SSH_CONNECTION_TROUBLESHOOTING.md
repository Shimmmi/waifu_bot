# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã "Connection reset" –ø—Ä–∏ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

## –ü—Ä–æ–±–ª–µ–º–∞

```
kex_exchange_identification: read: Connection reset
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ ping
ping 45.156.21.149

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 22
Test-NetConnection -ComputerName 45.156.21.149 -Port 22
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏

```powershell
ssh -v rocketcloud-vps "echo 'test'"
```

–ò—â–∏—Ç–µ –≤ –≤—ã–≤–æ–¥–µ:
- `Connection reset` - —Å–µ—Ä–≤–µ—Ä –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- `Connection refused` - SSH —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω
- `Connection timed out` - —Ñ–∞–π—Ä–≤–æ–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç
- `Permission denied` - –ø—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```powershell
cat ~/.ssh/config
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ SSH —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RocketCloud:

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å VPS (web console)
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ SSH
systemctl status ssh
# –∏–ª–∏
systemctl status sshd

# –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
systemctl start ssh
systemctl enable ssh
```

### –†–µ—à–µ–Ω–∏–µ 2: –û—á–∏—Å—Ç–∫–∞ known_hosts

–ò–Ω–æ–≥–¥–∞ –ø–æ–º–æ–≥–∞–µ—Ç –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π:

```powershell
# –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è —ç—Ç–æ–≥–æ —Ö–æ—Å—Ç–∞
ssh-keygen -R 45.156.21.149
ssh-keygen -R rocketcloud-vps
```

### –†–µ—à–µ–Ω–∏–µ 3: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```powershell
ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@45.156.21.149
```

### –†–µ—à–µ–Ω–∏–µ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç

–ï—Å–ª–∏ SSH —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É:

```powershell
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞
ssh -p 22 root@45.156.21.149
```

### –†–µ—à–µ–Ω–∏–µ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –≤–º–µ—Å—Ç–æ –∫–ª—é—á–∞

–ï—Å–ª–∏ –∫–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–∞—Ä–æ–ª—å:

```powershell
ssh -o PreferredAuthentications=password -o PubkeyAuthentication=no root@45.156.21.149
```

### –†–µ—à–µ–Ω–∏–µ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å RocketCloud

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RocketCloud
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É VPS
3. –û—Ç–∫—Ä–æ–π—Ç–µ "Console" –∏–ª–∏ "Web Terminal"
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH
systemctl status ssh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ SSH
journalctl -u ssh -n 50
# –∏–ª–∏
tail -50 /var/log/auth.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 22
netstat -tlnp | grep :22
# –∏–ª–∏
ss -tlnp | grep :22

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
ufw status
# –∏–ª–∏
iptables -L -n
```

---

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ï—Å–ª–∏ SSH —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω:

```bash
# –ó–∞–ø—É—Å–∫ SSH
systemctl start ssh
systemctl enable ssh

# –ü—Ä–æ–≤–µ—Ä–∫–∞
systemctl status ssh
```

### –ï—Å–ª–∏ SSH –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º:

```bash
# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞ 22 (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ufw)
ufw allow 22/tcp
ufw reload

# –ò–ª–∏ –¥–ª—è iptables
iptables -A INPUT -p tcp --dport 22 -j ACCEPT
iptables-save
```

### –ï—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
ss -tn | grep :22 | wc -l

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# –û–±—ã—á–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ SSH
cat /etc/ssh/sshd_config | grep -E "Port|PermitRootLogin|PubkeyAuthentication|PasswordAuthentication"

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å SSH
systemctl restart ssh
```

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏ RocketCloud

- –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û—Ç–∫—Ä–æ–π—Ç–µ "Console" –∏–ª–∏ "Web Terminal"
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–ø—Ä—è–º—É—é

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PuTTY (Windows)

1. –°–∫–∞—á–∞–π—Ç–µ PuTTY: https://www.putty.org/
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - Host Name: `45.156.21.149`
   - Port: `22`
   - Connection type: SSH
3. –í Connection ‚Üí SSH ‚Üí Auth —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –∫–ª—é—á—É
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WinSCP

1. –°–∫–∞—á–∞–π—Ç–µ WinSCP: https://winscp.net/
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

---

## üìã –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –ø–æ –ø–æ—Ä—è–¥–∫—É:

```powershell
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ ping
ping 45.156.21.149

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
Test-NetConnection -ComputerName 45.156.21.149 -Port 22

# 3. –û—á–∏—Å—Ç–∫–∞ known_hosts
ssh-keygen -R 45.156.21.149

# 4. –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
ssh -v root@45.156.21.149 "echo 'test'"

# 5. –ü–æ–ø—ã—Ç–∫–∞ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
ssh -o ConnectTimeout=30 -o ServerAliveInterval=30 root@45.156.21.149
```

---

## üí° –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É RocketCloud:**
   - –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
   - –£–∫–∞–∂–∏—Ç–µ IP: `45.156.21.149`
   - –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –≤—ã–≤–æ–¥ `ssh -v`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å RocketCloud –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å SSH —Å–µ—Ä–≤–∏—Å–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VPS:**
   - –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RocketCloud
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ (Windows):

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∫–æ–Ω—Ñ–∏–≥–∞
cat ~/.ssh/config

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞
ls -la ~/.ssh/

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
ssh -v -o ConnectTimeout=10 root@45.156.21.149
ssh -v -o PreferredAuthentications=password root@45.156.21.149
ssh -v -p 2222 root@45.156.21.149
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á–µ—Ä–µ–∑ –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å):

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH
systemctl status ssh
journalctl -u ssh -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :22
ss -tlnp | grep :22

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
ufw status verbose
iptables -L -n -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -50 /var/log/auth.log
tail -50 /var/log/syslog | grep ssh
```

